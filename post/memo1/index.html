<!doctype html><html lang=en><head><meta charset=utf-8><meta name=referrer content="same-origin"><title>备忘录1 :: ywy — 有约不来过夜半，闲敲棋子落灯花</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="有的文章里链接已无法访问，最好还是本地备份。记录解决方法，免得下次还要搜索挺久。 用 cURL 自動更新 Cloudflare IP 地址實現 DDNS 登录 Cloudflare 账号，然后在「My Profi"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://ywycd.github.io/post/memo1/><link rel=stylesheet href=https://ywycd.github.io/assets/style.min.css?d41d8cd98f00b204e9800998ecf8427e><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://ywycd.github.io/img/favicon/apple-icon-precomposed.png><link rel="shortcut icon" href=https://ywycd.github.io/img/apple-touch-icon-rm.png><meta name=twitter:card content="summary"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="备忘录1 :: ywy"><meta property="og:description" content="有的文章里链接已无法访问，最好还是本地备份。记录解决方法，免得下次还要搜索挺久。 用 cURL 自動更新 Cloudflare IP 地址實現 DDNS 登录 Cloudflare 账号，然后在「My Profi"><meta property="og:url" content="https://ywycd.github.io/post/memo1/"><meta property="og:site_name" content="ywy"><meta property="og:image" content="https://ywycd.github.io/img/apple-touch-icon-rm.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2024-03-22 09:59:53 +0000 UTC"></head><body><div class="container center headings--one-size"><header class=header style=background-image:url(/img/banner-rain-731313_1920.png);background-position:50%;background-repeat:no-repeat;background-size:cover><div class=header__inner><div class=header__logo><a href=https://ywycd.github.io/><div class=logo>ASDW</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/about>About</a></li><li><a href=/archive>Archive</a></li><li><a href=/tagcloud>TagCloud</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/about>About</a></li><li><a href=/archive>Archive</a></li><li><a href=/tagcloud>TagCloud</a></li></ul></nav><div class=feed-links></div></header><div class=content><div class=post><h1 class=post-title>备忘录1</h1><div class=post-meta><span class=post-date>2024-03-22</span>
<span class=post-author>::
ywy</span>
:: Mod 2024-03-22(845a49f)</div><span class=post-tags>#<a href=https://ywycd.github.io/tags/memo/>memo</a>&nbsp;</span><div class=post-content><div><p>有的文章里链接已无法访问，最好还是本地备份。记录解决方法，免得下次还要搜索挺久。</p><p><a href=https://ignorance.nova.moe/ddns-with-cloudflare/>用 cURL 自動更新 Cloudflare IP 地址實現 DDNS</a></p><p>登录 Cloudflare 账号，然后在「My Profile」创建「API Token」，权限Zone.Zone, Zone.DNS ，用-H “Authorization: Bearer xxxxxxxx”授权。</p><p><strong>获得 ZoneID 和 Record ID</strong></p><p><code>curl -X GET "https://api.cloudflare.com/client/v4/zones -H “Authorization: Bearer xxxxxxxx”</code>
获取所有 Zones，找到对应域名的 Zone ID。
<code>curl -X GET "https://api.cloudflare.com/client/v4/zones/&lt;域名的 ZoneID>/dns\_records" -H "Authorization: Bearer xxxxxxx" -H "Content-Type:application/json"</code>
再找到对应的 Record ID。</p><p><strong>修改 Record 解析</strong></p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>home<span class=se>\_</span>ip<span class=o>=</span><span class=k>$(</span>curl ip.sb<span class=k>)</span>
curl -X PUT <span class=s2>&#34;https://api.cloudflare.com/client/v4/zones/&lt;域名的 ZoneID&gt;/dns\_records/&lt;Record ID&gt;&#34;</span> <span class=se>\\</span>
     -H <span class=s2>&#34;Authorization: Bearer xxxxxxx&#34;</span> <span class=se>\\</span>
     -H <span class=s2>&#34;Content-Type: application/json&#34;</span> <span class=se>\\</span>
     --data <span class=s1>&#39;{&#34;type&#34;:&#34;A&#34;,&#34;name&#34;:&#34;domain&#34;,&#34;content&#34;:&#34;&#39;</span><span class=nv>$home</span><span class=se>\_</span>ip<span class=s1>&#39;&#34;,&#34;ttl&#34;:120,&#34;proxied&#34;:false}&#39;</span>
</code></pre></div><p>修改ip变量和域名，cron定时更新。</p><p>笔记本新帐户键盘输入字母变成数字和字符，搜索是因为那几个键数字小键盘。<code>FN+NumLK</code>。</p><p><a href=https://bbs.letitfly.me/d/1129>屏蔽 bilibili / bilibili 漫画的青少年模式提示</a>
b漫把日期调到很多年后，打开app，再把日期改回来。</p><p><a href=https://bbs.letitfly.me/d/1192>屏蔽QQ升级提示和弹窗（需root）</a></p><p>准备可root文件管理器和终端。QQ检测更新的配置文件地址为/data/data/com.tencent.mobileqq/files/upgrade_config/config_upgrade_xxxxxx（xxxxxx为QQ号）。使用编辑文本的方式打开它，照注释按需求修改。</p><p>保存文件后还要修改文件权限，防止屑QQ再改回去。然而使用chmod修改还是会改回，所以我们使用更加强力的chattr。
打开终端后先获取root权限，输入su/tsu回车。根据自身情况修改以下指令：</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>busybox chattr +i /data/data/com.tencent.mobileqq/files/upgrade_config/config_upgrade_xxxxxx
</code></pre></div><p>修改完后复制进入终端执行即可。如果想测试是否修改成功，可以尝试用文件管理器删除config_upgrade_xxxxxx文件，无法删除即修改成功。偶尔还是会提示更新。另外卸载QQ之前记得把权限修改回去，只需要把指令中的+i改为-i即可。</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://ywycd.github.io/post/tailscale/><span class=button__icon>←</span>
<span class=button__text>Tailscale内网穿透</span></a></span>
<span class="button next"><a href=https://ywycd.github.io/post/action/><span class=button__text>Action排队中解决</span>
<span class=button__icon>→</span></a></span></div></div></div><div class=post-toc id=post-toc><h2 class=post-toc-title></h2><div class="post-toc-content always-active"><nav id=TableOfContents></nav></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>:: Powered by <a href=http://gohugo.io>Hugo</a> 0.80.0</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><a id=back-to-top style=display:inline-block href=javascript:void(0); onclick="window.scrollTo({top:0,behavior:'smooth'});"><span class="iconfont icon-top"></span></a><script src=https://ywycd.github.io/assets/main.js?d41d8cd98f00b204e9800998ecf8427e></script><script>const addCopyButtons=function(clipboard){document.querySelectorAll('pre > code').forEach(function(codeBlock){const button=document.createElement('button');button.className='copy-code-button';button.type='button';button.innerText='Copy';const btnWrapper=document.createElement('div');btnWrapper.className='copy-code-button-wrap';btnWrapper.appendChild(button);button.addEventListener('click',function(){clipboard.writeText(codeBlock.innerText).then(function(){button.blur();button.innerText='Done!';setTimeout(function(){button.innerText='Copy';},2000);},function(error){button.innerText='Error';});});const pre=codeBlock.parentNode;pre.insertAdjacentElement('beforebegin',btnWrapper);});};window.addEventListener('load',function(event){const links=document.links;for(let i=0,linksLength=links.length;i<linksLength;i++){if(links[i].hostname!=window.location.hostname&&!links[i].href.startsWith('javascript:')&&!links[i].href.startsWith('mailto:')){links[i].target='_blank';}}
if(document.querySelectorAll('#TableOfContents li').length>0){document.querySelector('#post-toc').style.display='block';}
document.querySelectorAll('#post-toc a').forEach(anchor=>{anchor.addEventListener('click',evt=>{document.querySelectorAll('#post-toc a').forEach(ele=>{ele.classList.remove('active');});evt.target.classList.add('active');})});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault();document.getElementById(this.getAttribute('href').substring(1)).scrollIntoView({behavior:'smooth'});});});if(navigator&&navigator.clipboard){addCopyButtons(navigator.clipboard);}});</script></div></body></html>