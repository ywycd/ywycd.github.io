<!doctype html><html lang=en><head><meta charset=utf-8><meta name=referrer content="same-origin"><title>下载私人仓库和SSH认证 :: ywy — 有约不来过夜半，闲敲棋子落灯花</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="下载私人仓库 博客内容在私人仓库，现在想下载到电脑上备着，后面继续记录。 查阅发现git clone https://myusername@github.c"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://ywycd.github.io/post/github-ssh-key-and-private-repositories/><link rel=stylesheet href=https://ywycd.github.io/assets/style.min.css?d41d8cd98f00b204e9800998ecf8427e><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://ywycd.github.io/img/favicon/apple-icon-precomposed.png><link rel="shortcut icon" href=https://ywycd.github.io/img/apple-touch-icon-rm.png><meta name=twitter:card content="summary"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="下载私人仓库和SSH认证 :: ywy"><meta property="og:description" content="下载私人仓库 博客内容在私人仓库，现在想下载到电脑上备着，后面继续记录。 查阅发现git clone https://myusername@github.c"><meta property="og:url" content="https://ywycd.github.io/post/github-ssh-key-and-private-repositories/"><meta property="og:site_name" content="ywy"><meta property="og:image" content="https://ywycd.github.io/img/apple-touch-icon-rm.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2020-12-04 16:41:58 +0800 +0800"></head><body><div class="container center headings--one-size"><header class=header style=background-image:url(/img/banner-rain-731313_1920.png);background-position:50%;background-repeat:no-repeat;background-size:cover><div class=header__inner><div class=header__logo><a href=https://ywycd.github.io/><div class=logo>ASDW</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/about>About</a></li><li><a href=/archive>Archive</a></li><li><a href=/tagcloud>TagCloud</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/about>About</a></li><li><a href=/archive>Archive</a></li><li><a href=/tagcloud>TagCloud</a></li></ul></nav><div class=feed-links></div></header><div class=content><div class=post><h1 class=post-title>下载私人仓库和SSH认证</h1><div class=post-meta><span class=post-date>2020-12-04</span>
<span class=post-author>::
ywy</span>
:: Mod 2020-12-19(0120684)</div><span class=post-tags>#<a href=https://ywycd.github.io/tags/github/>github</a>&nbsp;
#<a href=https://ywycd.github.io/tags/ssh/>ssh</a>&nbsp;</span><div class=post-content><div><h2 id=下载私人仓库>下载私人仓库<a href=#下载私人仓库 class=hanchor arialabel=Anchor>&#8983;</a></h2><p>博客内容在私人仓库，现在想下载到电脑上备着，后面继续记录。</p><p>查阅发现<code>git clone https://myusername@github.com/ownersusername/repo_name.git</code>有用，其他出错/要权限（win git bash创建不了文件换cmd下载）。下载到电脑、小钢炮。小钢炮输密码（clone、push）不方便，研究如何ssh验证。无法使用ssh-keygen，电脑复制过去不行。</p><h2 id=ssh认证>SSH认证<a href=#ssh认证 class=hanchor arialabel=Anchor>&#8983;</a></h2><p>生成密钥<code>ssh-keygen -t ed25519 -C "your_email@example.com"</code>，普通人一路回车。复制密钥（记得修改）<code>clip &lt; ~/.ssh/id_ed25519.pub</code> 。
<a href=https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/connecting-to-github-with-ssh>详见</a> 点击头像-Settings-SSH and GPG keys新增，取名随意，区分开来。测试连接<code>ssh -T git@github.com</code>。</p><pre><code>Hi username! You've successfully authenticated, but GitHub does not provide shell access.
</code></pre><p>提示这个，恭喜配置成功。</p><p><strong>小钢炮只能另辟蹊径</strong> ssh-keygen不存在。开始用
<a href=https://bbs.hassbian.com/thread-8491-1-1.html>ssh-copy-id root@n1地址</a>失败。复制电脑key过去无用。ssh -T提示<code>Connection to git@github.com:22 exited: No auth methods could be used.</code>感谢那个
<a href="https://forum.archive.openwrt.org/viewtopic.php?id=47551">久远的帖子</a>。</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=c1># Generate your identity key on openwrt</span>
dropbearkey -t rsa -f ~/.ssh/id_rsa
<span class=c1># Convert public key from dropbear binary to openssh text</span>
<span class=c1># Copy and paste output from below to bitbucket account ssh keys</span>
dropbearkey -y -f ~/.ssh/id_rsa <span class=p>|</span> head -n <span class=m>2</span> <span class=p>|</span> tail -1
<span class=c1># Change git ssh command</span>
<span class=nb>echo</span> <span class=s2>&#34;#!/bin/sh&#34;</span> &gt; ~/.gitssh.sh
<span class=nb>echo</span> <span class=s2>&#34;dbclient -y -i ~/.ssh/id_rsa \$*&#34;</span> &gt;&gt; ~/.gitssh.sh
chmod +x ~/.gitssh.sh
<span class=nb>echo</span> <span class=s2>&#34;export GIT_SSH=\$HOME/.gitssh.sh&#34;</span> &gt;&gt; /etc/profile
<span class=c1># Now login again to openwrt</span>
<span class=c1># Now use git (finally)</span>
git clone git@github.com:&lt;user&gt;/&lt;repo&gt;.git
</code></pre></div><p>运行时提示dbclient: Exited: Error resolving &lsquo;$*&rsquo; port &lsquo;22&rsquo;. Name or service not known。看最后回复修改后成功。<br>内置的是dropbear，通过转换才行。<code>ssh -i .ssh/id_rsa git@github.com</code>测试连接。<br><code>git clone git@github.com:username/repo_name.git</code>无需密码，上面地址要输。</p><h2 id=git-config设置>git config设置<a href=#git-config设置 class=hanchor arialabel=Anchor>&#8983;</a></h2><p>git config &ndash;global user.name &ldquo;John Doe&rdquo;</p><p>git config &ndash;global user.email &ldquo;<a href=mailto:johndoe@example.com>johndoe@example.com</a>&rdquo;</p><p>设置
<a href=https://www.v2ex.com/t/641227>代理</a> git config &ndash;global http.proxy &lsquo;socks5h://localhost:port&rsquo;<br>查看配置<code>git config -l</code></p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://ywycd.github.io/post/ndm-ssh-key/><span class=button__icon>←</span>
<span class=button__text>小钢炮ssh设置密钥登录（免密）</span></a></span>
<span class="button next"><a href=https://ywycd.github.io/post/build-my-bitwarden/><span class=button__text>Bitwarden服务器搭建记录</span>
<span class=button__icon>→</span></a></span></div></div></div><div class=post-toc id=post-toc><h2 class=post-toc-title></h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><a href=#下载私人仓库>下载私人仓库</a></li><li><a href=#ssh认证>SSH认证</a></li><li><a href=#git-config设置>git config设置</a></li></ul></nav></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>:: Powered by <a href=http://gohugo.io>Hugo</a> 0.82.0</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><a id=back-to-top style=display:inline-block href=javascript:void(0); onclick="window.scrollTo({top:0,behavior:'smooth'})"><span class="iconfont icon-top"></span></a><script src=https://ywycd.github.io/assets/main.js?d41d8cd98f00b204e9800998ecf8427e></script><script>const addCopyButtons=function(a){document.querySelectorAll('pre > code').forEach(function(d){const b=document.createElement('button');b.className='copy-code-button',b.type='button',b.innerText='Copy';const c=document.createElement('div');c.className='copy-code-button-wrap',c.appendChild(b),b.addEventListener('click',function(){a.writeText(d.innerText).then(function(){b.blur(),b.innerText='Done!',setTimeout(function(){b.innerText='Copy'},2e3)},function(a){b.innerText='Error'})});const e=d.parentNode;e.insertAdjacentElement('beforebegin',c)})};window.addEventListener('load',function(b){const a=document.links;for(let b=0,c=a.length;b<c;b++)a[b].hostname!=window.location.hostname&&!a[b].href.startsWith('javascript:')&&!a[b].href.startsWith('mailto:')&&(a[b].target='_blank');document.querySelectorAll('#TableOfContents li').length>0&&(document.querySelector('#post-toc').style.display='block'),document.querySelectorAll('#post-toc a').forEach(a=>{a.addEventListener('click',a=>{document.querySelectorAll('#post-toc a').forEach(a=>{a.classList.remove('active')}),a.target.classList.add('active')})}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener('click',function(a){a.preventDefault(),document.getElementById(this.getAttribute('href').substring(1)).scrollIntoView({behavior:'smooth'})})}),navigator&&navigator.clipboard&&addCopyButtons(navigator.clipboard)})</script></div></body></html>