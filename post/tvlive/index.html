<!doctype html><html lang=en><head><meta charset=utf-8><meta name=referrer content="same-origin"><title>电视直播 :: ywy — 有约不来过夜半，闲敲棋子落灯花</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="去年广电整改，直播软件纷纷失效，好处是盒子能直接进直播。 最开始信号线连电视看，某次升级换成网络盒子连网线插卡使用。某天盒子坏看不了，问客服说"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://ywycd.github.io/post/tvlive/><link rel=stylesheet href=https://ywycd.github.io/assets/style.min.css?d41d8cd98f00b204e9800998ecf8427e><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://ywycd.github.io/img/favicon/apple-icon-precomposed.png><link rel="shortcut icon" href=https://ywycd.github.io/img/apple-touch-icon-rm.png><meta name=twitter:card content="summary"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="电视直播 :: ywy"><meta property="og:description" content="去年广电整改，直播软件纷纷失效，好处是盒子能直接进直播。 最开始信号线连电视看，某次升级换成网络盒子连网线插卡使用。某天盒子坏看不了，问客服说"><meta property="og:url" content="https://ywycd.github.io/post/tvlive/"><meta property="og:site_name" content="ywy"><meta property="og:image" content="https://ywycd.github.io/img/apple-touch-icon-rm.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2024-02-12 11:29:46 +0000 UTC"></head><body><div class="container center headings--one-size"><header class=header style=background-image:url(/img/banner-rain-731313_1920.png);background-position:50%;background-repeat:no-repeat;background-size:cover><div class=header__inner><div class=header__logo><a href=https://ywycd.github.io/><div class=logo>ASDW</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/about>About</a></li><li><a href=/archive>Archive</a></li><li><a href=/tagcloud>TagCloud</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/about>About</a></li><li><a href=/archive>Archive</a></li><li><a href=/tagcloud>TagCloud</a></li></ul></nav><div class=feed-links></div></header><div class=content><div class=post><h1 class=post-title>电视直播</h1><div class=post-meta><span class=post-date>2024-02-12</span>
<span class=post-author>::
ywy</span>
:: Mod 2024-02-13(a2f2957)</div><span class=post-tags>#<a href=https://ywycd.github.io/tags/enshan/>enshan</a>&nbsp;
#<a href=https://ywycd.github.io/tags/live/>live</a>&nbsp;</span><div class=post-content><div><p>去年广电整改，直播软件纷纷失效，好处是盒子能直接进直播。</p><p>最开始信号线连电视看，某次升级换成网络盒子连网线插卡使用。某天盒子坏看不了，问客服说要自费才能上门更换。当时N1刷机安软件，两个遥控器不太方便后面买刷过的魔百盒（商家随机发的CM311-3），没赶上魔百盒最便宜的时段。905l3a芯片性能更好。直播ipv6源、php代理、dtmb地波购买天线等方法。手机卡v6，但光猫设置v4/v6桥接无v6地址放弃。</p><h2 id=php服务器>php服务器<a href=#php服务器 class=hanchor arialabel=Anchor>&#8983;</a></h2><p>手机ksweb搭建方便，工具phpMyAdmin安装MySQL数据库。另外下载
<a href=https://www.right.com.cn/forum/thread-8315423-1-1.html>php</a>放htdocs文件夹。测试几天v6源和php代理陆续失效。播放器差不多，重要的是源。之前下过个人维护源的软件已失效。Kodi加载慢会卡，国内用过有个自己跳购物广告台，有的后台自动下载另一软件弹安装界面。考虑操作和加载速度，留tivimate和dyip影音。win直接下载大神的压缩包或者phpstudy。</p><p>小钢炮NDM上配置费了好久，各种尝试均失败。照大卫教程搭建php-fpm和nginx环境，下载文件解压，设置/var/www目录权限，<code>chown -R www-data:www-data /var/www</code>权限755 <code>chmod 755 file</code>。命令运行相应程序，首页显示php信息，访问其他php文件失效提示<code>WARNING: [pool www] child 6 said into stderr: "ERROR: Unable to open primary script</code>。搜索问题更改nginx配置文件，权限问题nginx改为www-data，运行提示<code>nginx: [emerg] "user" directive is not allowed</code>发现放错目录，不应该在conf.d。 nginx.conf会引入/etc/nginx/conf.d/目录下的*.conf文件，单独nginx.conf是在/etc/nginx/目录下，冲突的问题。另外修改php.ini的<code>cgi.fix_pathinfo = 0 </code>。访问被禁看日志显示权限，文件600用户、组root，更改用户、组www-data或者644权限。**网页文件夹755，文件644**。终于能看php代理，转换docker-compose配置运行方便。docker-compose升级<code>curl -L "https://mirror.ghproxy.com/https://github.com/docker/compose/releases/download/v2.17.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/bin/docker-compose</code>/usr/bin目录下更改权限，<code>docker-compose version</code>。编写自用源上传仓库。有的文件php5.6格式错误，升级7.4。</p><h2 id=电信iptv>电信IPTV<a href=#电信iptv class=hanchor arialabel=Anchor>&#8983;</a></h2><p>听说电信组播光猫iptv、组播vlan、igmp开启就能看。曾经有盒子当时没工具没抓包，还好恩山有人分享组播源。光猫桥接路由拨号，老毛子开启iptv组播转内网，pot播不了rtp://。连内网无法访问1.1，<code>iptables -t nat -A POSTROUTING -o eth3 -d 192.168.1.0/24 -j SNAT --to-source 192.168.1.78</code>，eth3为MAN的接口，1.78 MAN ip。临时生效，若想永久生效，添加到“在 WAN 上行/下行启动后执行”脚本。设了stb隔离vlan过滤直接没网。路由显示等待ppp连接，电脑连光猫拨号无v6，iptv路由wan要填盒子信息，没填一直connecting。上网和iptv不绑定端口，光猫华为界面 高级配置-路由-IPV4 VLAN绑定配置，LAN1 vlan绑定<code>41/41,43/43</code>。光猫lan1连路由wan口，vlan过滤对应填上，stb隔离看有无盒子连。选zeroconf和静态ip都可，静态ip不同网段。网线和wifi可播放，内网udpxy改对应格式可播放，status有客户端。浙江上网41，IPTV43，组播vlan4000。弄完老毛子单线复用，ifconfig发现MAN口变成eth3.41。好像只vlan绑定/过滤43就行。
<a href=https://github.com/luckyyyyy/blog/issues/44>iptv抓包</a>认证后可获取10.x内网，单播rtsp://。</p><h2 id=源>源<a href=#源 class=hanchor arialabel=Anchor>&#8983;</a></h2><p><a href=https://www.right.com.cn/forum/forum-182-1.html>恩山</a>和
<a href=https://angtv.cc/>安歌</a>
<a href=https://m3u.ibert.me/>自动更新源</a>
<a href=http://tonkiang.us/>静态源搜索</a>
<a href=https://www.cnblogs.com/xxy002/p/17858312.html>v4v6源</a>
<a href=https://live.fanmingming.com/>fanmingming台标|egp|v6</a>
<a href=https://live.fanmingming.com/tv/m3u/ipv6.m3u>fmmv6</a></p><p>m3u txt格式转换
<a href=https://guihet.com/convert-m3u-js.html>黑鸟</a>
<a href=https://epg.112114.eu.org/cjtrans>112114</a>
<a href=https://live.fanmingming.com/txt2m3u/>fmmtxt2mu3</a></p><p>在线m3u转txt <a href="https://fanmingming.com/txt?url=">https://fanmingming.com/txt?url=</a> <a href="https://angtv.cc/tool/m3ulist.php?url=">https://angtv.cc/tool/m3ulist.php?url=</a></p><p><a href=https://angtv.cc/tool/szzlist.php>数组转换频道列表工具</a></p><h2 id=参考文章>参考文章<a href=#参考文章 class=hanchor arialabel=Anchor>&#8983;</a></h2><p><a href=https://www.right.com.cn/forum/thread-8315423-1-1.html>自建DIYP影音和TVBOX的接口PHP服务</a></p><p><a href=https://www.iyuu.cn/archives/129/>灯大小钢炮docker五步搭建php-fpm和nginx环境（官方镜像）</a></p><p><a href=https://www.cnblogs.com/menghome/p/11106648.html>nginx 启用php解析及解决无法访问报错Primary script unknown的过程</a></p><p><a href=https://www.right.com.cn/forum/thread-464371-1-1.html>从外部访问光猫除了威屁恩,和单臂路由还有没有别的方法</a></p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://ywycd.github.io/post/action/><span class=button__icon>←</span>
<span class=button__text>Action排队中解决</span></a></span>
<span class="button next"><a href=https://ywycd.github.io/post/gedoor-mybookshelf-introductin/><span class=button__text>阅读介绍</span>
<span class=button__icon>→</span></a></span></div></div></div><div class=post-toc id=post-toc><h2 class=post-toc-title></h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><a href=#php服务器>php服务器</a></li><li><a href=#电信iptv>电信IPTV</a></li><li><a href=#源>源</a></li><li><a href=#参考文章>参考文章</a></li></ul></nav></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>:: Powered by <a href=http://gohugo.io>Hugo</a> 0.80.0</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><a id=back-to-top style=display:inline-block href=javascript:void(0); onclick="window.scrollTo({top:0,behavior:'smooth'});"><span class="iconfont icon-top"></span></a><script src=https://ywycd.github.io/assets/main.js?d41d8cd98f00b204e9800998ecf8427e></script><script>const addCopyButtons=function(clipboard){document.querySelectorAll('pre > code').forEach(function(codeBlock){const button=document.createElement('button');button.className='copy-code-button';button.type='button';button.innerText='Copy';const btnWrapper=document.createElement('div');btnWrapper.className='copy-code-button-wrap';btnWrapper.appendChild(button);button.addEventListener('click',function(){clipboard.writeText(codeBlock.innerText).then(function(){button.blur();button.innerText='Done!';setTimeout(function(){button.innerText='Copy';},2000);},function(error){button.innerText='Error';});});const pre=codeBlock.parentNode;pre.insertAdjacentElement('beforebegin',btnWrapper);});};window.addEventListener('load',function(event){const links=document.links;for(let i=0,linksLength=links.length;i<linksLength;i++){if(links[i].hostname!=window.location.hostname&&!links[i].href.startsWith('javascript:')&&!links[i].href.startsWith('mailto:')){links[i].target='_blank';}}
if(document.querySelectorAll('#TableOfContents li').length>0){document.querySelector('#post-toc').style.display='block';}
document.querySelectorAll('#post-toc a').forEach(anchor=>{anchor.addEventListener('click',evt=>{document.querySelectorAll('#post-toc a').forEach(ele=>{ele.classList.remove('active');});evt.target.classList.add('active');})});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault();document.getElementById(this.getAttribute('href').substring(1)).scrollIntoView({behavior:'smooth'});});});if(navigator&&navigator.clipboard){addCopyButtons(navigator.clipboard);}});</script></div></body></html>